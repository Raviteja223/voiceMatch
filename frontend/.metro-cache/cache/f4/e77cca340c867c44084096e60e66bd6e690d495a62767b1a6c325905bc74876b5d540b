{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _expoVirtualEnv = require(_dependencyMap[3], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var API_BASE = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  var ApiClient = /*#__PURE__*/function () {\n    function ApiClient() {\n      (0, _classCallCheck.default)(this, ApiClient);\n      this.token = null;\n    }\n    return (0, _createClass.default)(ApiClient, [{\n      key: \"init\",\n      value: function () {\n        var _init = (0, _asyncToGenerator.default)(function* () {\n          this.token = yield AsyncStorage.default.getItem('auth_token');\n        });\n        function init() {\n          return _init.apply(this, arguments);\n        }\n        return init;\n      }()\n    }, {\n      key: \"setToken\",\n      value: function setToken(token) {\n        this.token = token;\n        AsyncStorage.default.setItem('auth_token', token);\n      }\n    }, {\n      key: \"clearToken\",\n      value: function () {\n        var _clearToken = (0, _asyncToGenerator.default)(function* () {\n          this.token = null;\n          yield AsyncStorage.default.removeItem('auth_token');\n        });\n        function clearToken() {\n          return _clearToken.apply(this, arguments);\n        }\n        return clearToken;\n      }()\n    }, {\n      key: \"headers\",\n      value: function headers() {\n        var h = {\n          'Content-Type': 'application/json'\n        };\n        if (this.token) h['Authorization'] = `Bearer ${this.token}`;\n        return h;\n      }\n    }, {\n      key: \"get\",\n      value: function () {\n        var _get = (0, _asyncToGenerator.default)(function* (path) {\n          var res = yield fetch(`${API_BASE}/api${path}`, {\n            headers: this.headers()\n          });\n          if (!res.ok) {\n            var err = yield res.json().catch(() => ({\n              detail: 'Request failed'\n            }));\n            throw new Error(err.detail || 'Request failed');\n          }\n          return res.json();\n        });\n        function get(_x) {\n          return _get.apply(this, arguments);\n        }\n        return get;\n      }()\n    }, {\n      key: \"post\",\n      value: function () {\n        var _post = (0, _asyncToGenerator.default)(function* (path, body) {\n          var res = yield fetch(`${API_BASE}/api${path}`, {\n            method: 'POST',\n            headers: this.headers(),\n            body: body ? JSON.stringify(body) : undefined\n          });\n          if (!res.ok) {\n            var err = yield res.json().catch(() => ({\n              detail: 'Request failed'\n            }));\n            throw new Error(err.detail || 'Request failed');\n          }\n          return res.json();\n        });\n        function post(_x2, _x3) {\n          return _post.apply(this, arguments);\n        }\n        return post;\n      }()\n    }]);\n  }();\n  var api = new ApiClient();\n  var _default = api;\n});","lineCount":123,"map":[[12,2,52,0,"Object"],[12,8,52,0],[12,9,52,0,"defineProperty"],[12,23,52,0],[12,24,52,0,"exports"],[12,31,52,0],[13,4,52,0,"enumerable"],[13,14,52,0],[14,4,52,0,"get"],[14,7,52,0],[14,18,52,0,"get"],[14,19,52,0],[15,6,52,0],[15,13,52,0,"_default"],[15,21,52,0],[16,4,52,0],[17,2,52,0],[18,2,51,0,"Object"],[18,8,51,0],[18,9,51,0,"defineProperty"],[18,23,51,0],[18,24,51,0,"exports"],[18,31,51,0],[19,4,51,0,"enumerable"],[19,14,51,0],[20,4,51,0,"get"],[20,7,51,0],[20,18,51,0,"get"],[20,19,51,0],[21,6,51,0],[21,13,51,0,"api"],[21,16,51,0],[22,4,51,0],[23,2,51,0],[24,2,51,35],[24,6,51,35,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,51,35],[24,45,51,35,"require"],[24,52,51,35],[24,53,51,35,"_dependencyMap"],[24,67,51,35],[25,2,51,35],[25,6,51,35,"_asyncToGenerator"],[25,23,51,35],[25,26,51,35,"_interopDefault"],[25,41,51,35],[25,42,51,35,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,51,35],[26,2,51,35],[26,6,51,35,"_babelRuntimeHelpersClassCallCheck"],[26,40,51,35],[26,43,51,35,"require"],[26,50,51,35],[26,51,51,35,"_dependencyMap"],[26,65,51,35],[27,2,51,35],[27,6,51,35,"_classCallCheck"],[27,21,51,35],[27,24,51,35,"_interopDefault"],[27,39,51,35],[27,40,51,35,"_babelRuntimeHelpersClassCallCheck"],[27,74,51,35],[28,2,51,35],[28,6,51,35,"_babelRuntimeHelpersCreateClass"],[28,37,51,35],[28,40,51,35,"require"],[28,47,51,35],[28,48,51,35,"_dependencyMap"],[28,62,51,35],[29,2,51,35],[29,6,51,35,"_createClass"],[29,18,51,35],[29,21,51,35,"_interopDefault"],[29,36,51,35],[29,37,51,35,"_babelRuntimeHelpersCreateClass"],[29,68,51,35],[30,2,51,35],[30,6,51,35,"_expoVirtualEnv"],[30,21,51,35],[30,24,51,35,"require"],[30,31,51,35],[30,32,51,35,"_dependencyMap"],[30,46,51,35],[31,2,1,0],[31,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[31,42,1,0],[31,45,1,0,"require"],[31,52,1,0],[31,53,1,0,"_dependencyMap"],[31,67,1,0],[32,2,1,0],[32,6,1,0,"AsyncStorage"],[32,18,1,0],[32,21,1,0,"_interopDefault"],[32,36,1,0],[32,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[32,73,1,0],[33,2,3,0],[33,6,3,6,"API_BASE"],[33,14,3,14],[33,17,3,14,"_expoVirtualEnv"],[33,32,3,14],[33,33,3,14,"env"],[33,36,3,14],[33,37,3,14,"EXPO_PUBLIC_BACKEND_URL"],[33,60,3,52],[34,2,3,53],[34,6,5,6,"ApiClient"],[34,15,5,15],[35,4,5,15],[35,13,5,15,"ApiClient"],[35,23,5,15],[36,6,5,15],[36,10,5,15,"_classCallCheck"],[36,25,5,15],[36,26,5,15,"default"],[36,33,5,15],[36,41,5,15,"ApiClient"],[36,50,5,15],[37,6,5,15],[37,11,6,10,"token"],[37,16,6,15],[37,19,6,33],[37,23,6,37],[38,4,6,37],[39,4,6,37],[39,15,6,37,"_createClass"],[39,27,6,37],[39,28,6,37,"default"],[39,35,6,37],[39,37,6,37,"ApiClient"],[39,46,6,37],[40,6,6,37,"key"],[40,9,6,37],[41,6,6,37,"value"],[41,11,6,37],[42,8,6,37],[42,12,6,37,"_init"],[42,17,6,37],[42,24,6,37,"_asyncToGenerator"],[42,41,6,37],[42,42,6,37,"default"],[42,49,6,37],[42,51,8,2],[42,64,8,15],[43,10,9,4],[43,14,9,8],[43,15,9,9,"token"],[43,20,9,14],[43,29,9,23,"AsyncStorage"],[43,41,9,35],[43,42,9,35,"default"],[43,49,9,35],[43,50,9,36,"getItem"],[43,57,9,43],[43,58,9,44],[43,70,9,56],[43,71,9,57],[44,8,10,2],[44,9,10,3],[45,8,10,3],[45,17,8,8,"init"],[45,21,8,12,"init"],[45,22,8,12],[46,10,8,12],[46,17,8,12,"_init"],[46,22,8,12],[46,23,8,12,"apply"],[46,28,8,12],[46,35,8,12,"arguments"],[46,44,8,12],[47,8,8,12],[48,8,8,12],[48,15,8,8,"init"],[48,19,8,12],[49,6,8,12],[50,4,8,12],[51,6,8,12,"key"],[51,9,8,12],[52,6,8,12,"value"],[52,11,8,12],[52,13,12,2],[52,22,12,2,"setToken"],[52,30,12,10,"setToken"],[52,31,12,11,"token"],[52,36,12,24],[52,38,12,26],[53,8,13,4],[53,12,13,8],[53,13,13,9,"token"],[53,18,13,14],[53,21,13,17,"token"],[53,26,13,22],[54,8,14,4,"AsyncStorage"],[54,20,14,16],[54,21,14,16,"default"],[54,28,14,16],[54,29,14,17,"setItem"],[54,36,14,24],[54,37,14,25],[54,49,14,37],[54,51,14,39,"token"],[54,56,14,44],[54,57,14,45],[55,6,15,2],[56,4,15,3],[57,6,15,3,"key"],[57,9,15,3],[58,6,15,3,"value"],[58,11,15,3],[59,8,15,3],[59,12,15,3,"_clearToken"],[59,23,15,3],[59,30,15,3,"_asyncToGenerator"],[59,47,15,3],[59,48,15,3,"default"],[59,55,15,3],[59,57,17,2],[59,70,17,21],[60,10,18,4],[60,14,18,8],[60,15,18,9,"token"],[60,20,18,14],[60,23,18,17],[60,27,18,21],[61,10,19,4],[61,16,19,10,"AsyncStorage"],[61,28,19,22],[61,29,19,22,"default"],[61,36,19,22],[61,37,19,23,"removeItem"],[61,47,19,33],[61,48,19,34],[61,60,19,46],[61,61,19,47],[62,8,20,2],[62,9,20,3],[63,8,20,3],[63,17,17,8,"clearToken"],[63,27,17,18,"clearToken"],[63,28,17,18],[64,10,17,18],[64,17,17,18,"_clearToken"],[64,28,17,18],[64,29,17,18,"apply"],[64,34,17,18],[64,41,17,18,"arguments"],[64,50,17,18],[65,8,17,18],[66,8,17,18],[66,15,17,8,"clearToken"],[66,25,17,18],[67,6,17,18],[68,4,17,18],[69,6,17,18,"key"],[69,9,17,18],[70,6,17,18,"value"],[70,11,17,18],[70,13,22,2],[70,22,22,10,"headers"],[70,29,22,17,"headers"],[70,30,22,17],[70,32,22,20],[71,8,23,4],[71,12,23,10,"h"],[71,13,23,35],[71,16,23,38],[72,10,23,40],[72,24,23,54],[72,26,23,56],[73,8,23,75],[73,9,23,76],[74,8,24,4],[74,12,24,8],[74,16,24,12],[74,17,24,13,"token"],[74,22,24,18],[74,24,24,20,"h"],[74,25,24,21],[74,26,24,22],[74,41,24,37],[74,42,24,38],[74,45,24,41],[74,55,24,51],[74,59,24,55],[74,60,24,56,"token"],[74,65,24,61],[74,67,24,63],[75,8,25,4],[75,15,25,11,"h"],[75,16,25,12],[76,6,26,2],[77,4,26,3],[78,6,26,3,"key"],[78,9,26,3],[79,6,26,3,"value"],[79,11,26,3],[80,8,26,3],[80,12,26,3,"_get"],[80,16,26,3],[80,23,26,3,"_asyncToGenerator"],[80,40,26,3],[80,41,26,3,"default"],[80,48,26,3],[80,50,28,2],[80,61,28,12,"path"],[80,65,28,24],[80,67,28,26],[81,10,29,4],[81,14,29,10,"res"],[81,17,29,13],[81,26,29,22,"fetch"],[81,31,29,27],[81,32,29,28],[81,35,29,31,"API_BASE"],[81,43,29,39],[81,50,29,46,"path"],[81,54,29,50],[81,56,29,52],[81,58,29,54],[82,12,29,56,"headers"],[82,19,29,63],[82,21,29,65],[82,25,29,69],[82,26,29,70,"headers"],[82,33,29,77],[82,34,29,78],[83,10,29,80],[83,11,29,81],[83,12,29,82],[84,10,30,4],[84,14,30,8],[84,15,30,9,"res"],[84,18,30,12],[84,19,30,13,"ok"],[84,21,30,15],[84,23,30,17],[85,12,31,6],[85,16,31,12,"err"],[85,19,31,15],[85,28,31,24,"res"],[85,31,31,27],[85,32,31,28,"json"],[85,36,31,32],[85,37,31,33],[85,38,31,34],[85,39,31,35,"catch"],[85,44,31,40],[85,45,31,41],[85,52,31,48],[86,14,31,50,"detail"],[86,20,31,56],[86,22,31,58],[87,12,31,75],[87,13,31,76],[87,14,31,77],[87,15,31,78],[88,12,32,6],[88,18,32,12],[88,22,32,16,"Error"],[88,27,32,21],[88,28,32,22,"err"],[88,31,32,25],[88,32,32,26,"detail"],[88,38,32,32],[88,42,32,36],[88,58,32,52],[88,59,32,53],[89,10,33,4],[90,10,34,4],[90,17,34,11,"res"],[90,20,34,14],[90,21,34,15,"json"],[90,25,34,19],[90,26,34,20],[90,27,34,21],[91,8,35,2],[91,9,35,3],[92,8,35,3],[92,17,28,8,"get"],[92,20,28,11,"get"],[92,21,28,11,"_x"],[92,23,28,11],[93,10,28,11],[93,17,28,11,"_get"],[93,21,28,11],[93,22,28,11,"apply"],[93,27,28,11],[93,34,28,11,"arguments"],[93,43,28,11],[94,8,28,11],[95,8,28,11],[95,15,28,8,"get"],[95,18,28,11],[96,6,28,11],[97,4,28,11],[98,6,28,11,"key"],[98,9,28,11],[99,6,28,11,"value"],[99,11,28,11],[100,8,28,11],[100,12,28,11,"_post"],[100,17,28,11],[100,24,28,11,"_asyncToGenerator"],[100,41,28,11],[100,42,28,11,"default"],[100,49,28,11],[100,51,37,2],[100,62,37,13,"path"],[100,66,37,25],[100,68,37,27,"body"],[100,72,37,37],[100,74,37,39],[101,10,38,4],[101,14,38,10,"res"],[101,17,38,13],[101,26,38,22,"fetch"],[101,31,38,27],[101,32,38,28],[101,35,38,31,"API_BASE"],[101,43,38,39],[101,50,38,46,"path"],[101,54,38,50],[101,56,38,52],[101,58,38,54],[102,12,39,6,"method"],[102,18,39,12],[102,20,39,14],[102,26,39,20],[103,12,40,6,"headers"],[103,19,40,13],[103,21,40,15],[103,25,40,19],[103,26,40,20,"headers"],[103,33,40,27],[103,34,40,28],[103,35,40,29],[104,12,41,6,"body"],[104,16,41,10],[104,18,41,12,"body"],[104,22,41,16],[104,25,41,19,"JSON"],[104,29,41,23],[104,30,41,24,"stringify"],[104,39,41,33],[104,40,41,34,"body"],[104,44,41,38],[104,45,41,39],[104,48,41,42,"undefined"],[105,10,42,4],[105,11,42,5],[105,12,42,6],[106,10,43,4],[106,14,43,8],[106,15,43,9,"res"],[106,18,43,12],[106,19,43,13,"ok"],[106,21,43,15],[106,23,43,17],[107,12,44,6],[107,16,44,12,"err"],[107,19,44,15],[107,28,44,24,"res"],[107,31,44,27],[107,32,44,28,"json"],[107,36,44,32],[107,37,44,33],[107,38,44,34],[107,39,44,35,"catch"],[107,44,44,40],[107,45,44,41],[107,52,44,48],[108,14,44,50,"detail"],[108,20,44,56],[108,22,44,58],[109,12,44,75],[109,13,44,76],[109,14,44,77],[109,15,44,78],[110,12,45,6],[110,18,45,12],[110,22,45,16,"Error"],[110,27,45,21],[110,28,45,22,"err"],[110,31,45,25],[110,32,45,26,"detail"],[110,38,45,32],[110,42,45,36],[110,58,45,52],[110,59,45,53],[111,10,46,4],[112,10,47,4],[112,17,47,11,"res"],[112,20,47,14],[112,21,47,15,"json"],[112,25,47,19],[112,26,47,20],[112,27,47,21],[113,8,48,2],[113,9,48,3],[114,8,48,3],[114,17,37,8,"post"],[114,21,37,12,"post"],[114,22,37,12,"_x2"],[114,25,37,12],[114,27,37,12,"_x3"],[114,30,37,12],[115,10,37,12],[115,17,37,12,"_post"],[115,22,37,12],[115,23,37,12,"apply"],[115,28,37,12],[115,35,37,12,"arguments"],[115,44,37,12],[116,8,37,12],[117,8,37,12],[117,15,37,8,"post"],[117,19,37,12],[118,6,37,12],[119,4,37,12],[120,2,37,12],[121,2,51,7],[121,6,51,13,"api"],[121,9,51,16],[121,12,51,19],[121,16,51,23,"ApiClient"],[121,25,51,32],[121,26,51,33],[121,27,51,34],[122,2,52,0],[122,6,52,0,"_default"],[122,14,52,0],[122,17,52,15,"api"],[122,20,52,18],[123,0,52,19],[123,3]],"functionMap":{"names":["<global>","ApiClient","ApiClient#init","ApiClient#setToken","ApiClient#clearToken","ApiClient#headers","ApiClient#get","res.json._catch$argument_0","ApiClient#post"],"mappings":"AAA;ACI;ECG;GDE;EEE;GFG;EGE;GHG;EIE;GJI;EKE;yCCG,oCD;GLI;EOE;yCDO,oCC;GPI;CDC"},"hasCjsExports":false},"type":"js/module"}]}