{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  /*\n   * Copyright (c) 2016-present Invertase Limited & Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this library except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.generateDatabaseId = generateDatabaseId;\n  exports.generateFirestoreId = generateFirestoreId;\n  var PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\n  var AUTO_ID_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  // timestamp of last push, used to prevent local collisions if you push twice in one ms.\n  var lastPushTime = 0;\n\n  // we generate 72-bits of randomness which get turned into 12 characters and appended to the\n  // timestamp to prevent collisions with other clients.  We store the last characters we\n  // generated because in the event of a collision, we'll use those same characters except\n  // \"incremented\" by one.\n  var lastRandChars = [];\n\n  /**\n   * Generate a firebase id - for use with ref().push(val, cb) - e.g. -KXMr7k2tXUFQqiaZRY4'\n   * @param serverTimeOffset - pass in server time offset from native side\n   * @returns {string}\n   */\n  function generateDatabaseId() {\n    var serverTimeOffset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var timeStampChars = new Array(8);\n    var now = new Date().getTime() + serverTimeOffset;\n    var duplicateTime = now === lastPushTime;\n    lastPushTime = now;\n    for (var i = 7; i >= 0; i -= 1) {\n      timeStampChars[i] = PUSH_CHARS.charAt(now % 64);\n      now = Math.floor(now / 64);\n    }\n    if (now !== 0) {\n      throw new Error('We should have converted the entire timestamp.');\n    }\n    var id = timeStampChars.join('');\n    if (!duplicateTime) {\n      for (var _i = 0; _i < 12; _i += 1) {\n        lastRandChars[_i] = Math.floor(Math.random() * 64);\n      }\n    } else {\n      // if the timestamp hasn't changed since last push,\n      // use the same random number, but increment it by 1.\n      var _i2;\n      for (_i2 = 11; _i2 >= 0 && lastRandChars[_i2] === 63; _i2 -= 1) {\n        lastRandChars[_i2] = 0;\n      }\n      lastRandChars[_i2] += 1;\n    }\n    for (var _i3 = 0; _i3 < 12; _i3++) {\n      id += PUSH_CHARS.charAt(lastRandChars[_i3]);\n    }\n    if (id.length !== 20) {\n      throw new Error('Length should be 20.');\n    }\n    return id;\n  }\n\n  /**\n   * Generate a firestore auto id for use with collection/document .add()\n   * @return {string}\n   */\n  function generateFirestoreId() {\n    var autoId = '';\n    for (var i = 0; i < 20; i++) {\n      autoId += AUTO_ID_CHARS.charAt(Math.floor(Math.random() * AUTO_ID_CHARS.length));\n    }\n    return autoId;\n  }\n});","lineCount":89,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[11,0,10,0],[12,0,11,0],[13,0,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,0,16,0],[18,0,17,0],[19,0,18,0],[20,2,3,0,"Object"],[20,8,3,0],[20,9,3,0,"defineProperty"],[20,23,3,0],[20,24,3,0,"exports"],[20,31,3,0],[21,4,3,0,"value"],[21,9,3,0],[22,2,3,0],[23,2,37,0,"exports"],[23,9,37,0],[23,10,37,0,"generateDatabaseId"],[23,28,37,0],[23,31,37,0,"generateDatabaseId"],[23,49,37,0],[24,2,76,0,"exports"],[24,9,76,0],[24,10,76,0,"generateFirestoreId"],[24,29,76,0],[24,32,76,0,"generateFirestoreId"],[24,51,76,0],[25,2,20,0],[25,6,20,6,"PUSH_CHARS"],[25,16,20,16],[25,19,20,19],[25,85,20,85],[26,2,21,0],[26,6,21,6,"AUTO_ID_CHARS"],[26,19,21,19],[26,22,21,22],[26,86,21,86],[28,2,23,0],[29,2,24,0],[29,6,24,4,"lastPushTime"],[29,18,24,16],[29,21,24,19],[29,22,24,20],[31,2,26,0],[32,2,27,0],[33,2,28,0],[34,2,29,0],[35,2,30,0],[35,6,30,6,"lastRandChars"],[35,19,30,19],[35,22,30,22],[35,24,30,24],[37,2,32,0],[38,0,33,0],[39,0,34,0],[40,0,35,0],[41,0,36,0],[42,2,37,7],[42,11,37,16,"generateDatabaseId"],[42,29,37,34,"generateDatabaseId"],[42,30,37,34],[42,32,37,57],[43,4,37,57],[43,8,37,35,"serverTimeOffset"],[43,24,37,51],[43,27,37,51,"arguments"],[43,36,37,51],[43,37,37,51,"length"],[43,43,37,51],[43,51,37,51,"arguments"],[43,60,37,51],[43,68,37,51,"undefined"],[43,77,37,51],[43,80,37,51,"arguments"],[43,89,37,51],[43,95,37,54],[43,96,37,55],[44,4,38,2],[44,8,38,8,"timeStampChars"],[44,22,38,22],[44,25,38,25],[44,29,38,29,"Array"],[44,34,38,34],[44,35,38,35],[44,36,38,36],[44,37,38,37],[45,4,39,2],[45,8,39,6,"now"],[45,11,39,9],[45,14,39,12],[45,18,39,16,"Date"],[45,22,39,20],[45,23,39,21],[45,24,39,22],[45,25,39,23,"getTime"],[45,32,39,30],[45,33,39,31],[45,34,39,32],[45,37,39,35,"serverTimeOffset"],[45,53,39,51],[46,4,40,2],[46,8,40,8,"duplicateTime"],[46,21,40,21],[46,24,40,24,"now"],[46,27,40,27],[46,32,40,32,"lastPushTime"],[46,44,40,44],[47,4,41,2,"lastPushTime"],[47,16,41,14],[47,19,41,17,"now"],[47,22,41,20],[48,4,42,2],[48,9,42,7],[48,13,42,11,"i"],[48,14,42,12],[48,17,42,15],[48,18,42,16],[48,20,42,18,"i"],[48,21,42,19],[48,25,42,23],[48,26,42,24],[48,28,42,26,"i"],[48,29,42,27],[48,33,42,31],[48,34,42,32],[48,36,42,34],[49,6,43,4,"timeStampChars"],[49,20,43,18],[49,21,43,19,"i"],[49,22,43,20],[49,23,43,21],[49,26,43,24,"PUSH_CHARS"],[49,36,43,34],[49,37,43,35,"charAt"],[49,43,43,41],[49,44,43,42,"now"],[49,47,43,45],[49,50,43,48],[49,52,43,50],[49,53,43,51],[50,6,44,4,"now"],[50,9,44,7],[50,12,44,10,"Math"],[50,16,44,14],[50,17,44,15,"floor"],[50,22,44,20],[50,23,44,21,"now"],[50,26,44,24],[50,29,44,27],[50,31,44,29],[50,32,44,30],[51,4,45,2],[52,4,46,2],[52,8,46,6,"now"],[52,11,46,9],[52,16,46,14],[52,17,46,15],[52,19,46,17],[53,6,47,4],[53,12,47,10],[53,16,47,14,"Error"],[53,21,47,19],[53,22,47,20],[53,70,47,68],[53,71,47,69],[54,4,48,2],[55,4,49,2],[55,8,49,6,"id"],[55,10,49,8],[55,13,49,11,"timeStampChars"],[55,27,49,25],[55,28,49,26,"join"],[55,32,49,30],[55,33,49,31],[55,35,49,33],[55,36,49,34],[56,4,50,2],[56,8,50,6],[56,9,50,7,"duplicateTime"],[56,22,50,20],[56,24,50,22],[57,6,51,4],[57,11,51,9],[57,15,51,13,"i"],[57,17,51,14],[57,20,51,17],[57,21,51,18],[57,23,51,20,"i"],[57,25,51,21],[57,28,51,24],[57,30,51,26],[57,32,51,28,"i"],[57,34,51,29],[57,38,51,33],[57,39,51,34],[57,41,51,36],[58,8,52,6,"lastRandChars"],[58,21,52,19],[58,22,52,20,"i"],[58,24,52,21],[58,25,52,22],[58,28,52,25,"Math"],[58,32,52,29],[58,33,52,30,"floor"],[58,38,52,35],[58,39,52,36,"Math"],[58,43,52,40],[58,44,52,41,"random"],[58,50,52,47],[58,51,52,48],[58,52,52,49],[58,55,52,52],[58,57,52,54],[58,58,52,55],[59,6,53,4],[60,4,54,2],[60,5,54,3],[60,11,54,9],[61,6,55,4],[62,6,56,4],[63,6,57,4],[63,10,57,8,"i"],[63,13,57,9],[64,6,58,4],[64,11,58,9,"i"],[64,14,58,10],[64,17,58,13],[64,19,58,15],[64,21,58,17,"i"],[64,24,58,18],[64,28,58,22],[64,29,58,23],[64,33,58,27,"lastRandChars"],[64,46,58,40],[64,47,58,41,"i"],[64,50,58,42],[64,51,58,43],[64,56,58,48],[64,58,58,50],[64,60,58,52,"i"],[64,63,58,53],[64,67,58,57],[64,68,58,58],[64,70,58,60],[65,8,59,6,"lastRandChars"],[65,21,59,19],[65,22,59,20,"i"],[65,25,59,21],[65,26,59,22],[65,29,59,25],[65,30,59,26],[66,6,60,4],[67,6,61,4,"lastRandChars"],[67,19,61,17],[67,20,61,18,"i"],[67,23,61,19],[67,24,61,20],[67,28,61,24],[67,29,61,25],[68,4,62,2],[69,4,63,2],[69,9,63,7],[69,13,63,11,"i"],[69,16,63,12],[69,19,63,15],[69,20,63,16],[69,22,63,18,"i"],[69,25,63,19],[69,28,63,22],[69,30,63,24],[69,32,63,26,"i"],[69,35,63,27],[69,37,63,29],[69,39,63,31],[70,6,64,4,"id"],[70,8,64,6],[70,12,64,10,"PUSH_CHARS"],[70,22,64,20],[70,23,64,21,"charAt"],[70,29,64,27],[70,30,64,28,"lastRandChars"],[70,43,64,41],[70,44,64,42,"i"],[70,47,64,43],[70,48,64,44],[70,49,64,45],[71,4,65,2],[72,4,66,2],[72,8,66,6,"id"],[72,10,66,8],[72,11,66,9,"length"],[72,17,66,15],[72,22,66,20],[72,24,66,22],[72,26,66,24],[73,6,67,4],[73,12,67,10],[73,16,67,14,"Error"],[73,21,67,19],[73,22,67,20],[73,44,67,42],[73,45,67,43],[74,4,68,2],[75,4,69,2],[75,11,69,9,"id"],[75,13,69,11],[76,2,70,0],[78,2,72,0],[79,0,73,0],[80,0,74,0],[81,0,75,0],[82,2,76,7],[82,11,76,16,"generateFirestoreId"],[82,30,76,35,"generateFirestoreId"],[82,31,76,35],[82,33,76,38],[83,4,77,2],[83,8,77,6,"autoId"],[83,14,77,12],[83,17,77,15],[83,19,77,17],[84,4,78,2],[84,9,78,7],[84,13,78,11,"i"],[84,14,78,12],[84,17,78,15],[84,18,78,16],[84,20,78,18,"i"],[84,21,78,19],[84,24,78,22],[84,26,78,24],[84,28,78,26,"i"],[84,29,78,27],[84,31,78,29],[84,33,78,31],[85,6,79,4,"autoId"],[85,12,79,10],[85,16,79,14,"AUTO_ID_CHARS"],[85,29,79,27],[85,30,79,28,"charAt"],[85,36,79,34],[85,37,79,35,"Math"],[85,41,79,39],[85,42,79,40,"floor"],[85,47,79,45],[85,48,79,46,"Math"],[85,52,79,50],[85,53,79,51,"random"],[85,59,79,57],[85,60,79,58],[85,61,79,59],[85,64,79,62,"AUTO_ID_CHARS"],[85,77,79,75],[85,78,79,76,"length"],[85,84,79,82],[85,85,79,83],[85,86,79,84],[86,4,80,2],[87,4,81,2],[87,11,81,9,"autoId"],[87,17,81,15],[88,2,82,0],[89,0,82,1],[89,3]],"functionMap":{"names":["<global>","generateDatabaseId","generateFirestoreId"],"mappings":"AAA;OCoC;CDiC;OEM;CFM"},"hasCjsExports":false},"type":"js/module"}]}